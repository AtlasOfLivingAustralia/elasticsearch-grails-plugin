<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>elasticsearch 0.17.8.1 - Reference Documentation</title>
        <link rel="stylesheet" href="../../css/ref.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    <h1>search</h1><p class="paragraph"/><h2>Purpose</h2><p class="paragraph"/>Search through indices for the specified search query.
The returned result may contain different type of domain.<p class="paragraph"/><h2>Examples</h2><p class="paragraph"/><div class="code"><pre>def highlighter = &#123;
  field 'message', 0, 0
  preTags '&#60;strong&#62;'
  postTags '&#60;/strong&#62;'
&#125;<p class="paragraph"/>def res = elasticSearchService.search(<span class="java&#45;quote">"$&#123;params.query&#125;"</span>)
def res = elasticSearchService.search(<span class="java&#45;quote">"$&#123;params.query&#125;"</span>, &#91;from:0, size:30, highlighter:highlighter&#93;)
def res = elasticSearchService.search()&#123;
    queryString(<span class="java&#45;quote">"$&#123;params.query&#125;"</span>)
&#125;
def res = elasticSearchService.search(from:0, size:30, indices:<span class="java&#45;quote">"tweet"</span>) &#123;
    queryString(<span class="java&#45;quote">"$&#123;params.query&#125;"</span>)
&#125;</pre></div><p class="paragraph"/><h4>Description</h4><p class="paragraph"/><code>search</code> signatures:<p class="paragraph"/><div class="code"><pre>def search(Closure query, Map params)
def search(Map params, Closure query)
def search(<span class="java&#45;object">String</span> query, Map params)</pre></div><p class="paragraph"/><h4>Parameters</h4>
<ul class="star">
<li><code>query</code> - The search query.</li>
<ul class="star">
<li>As a <code>String</code>, the query is parsed by the Lucene query parser for advanced searching.</li>
<li>Can also be a <code>Closure</code>, using the Groovy Query DSL of the ElasticSearch groovy client.</li>
</ul>
<li><code>params</code> - A list of additional parameters to customize the searching process</li>
<ul class="star">
<li><code>from</code> and <code>size</code> - From (hit) and the size (number of hits) to return.</li>
<li><code>sort</code> - Sort based on different fields including ElasticSearch's internal ones (like <code>_score</code>)</li>
<li><code>indices</code> - Limit the search only to the specified indices (may be a <code>String</code>, or <code>Collection</code> of <code>String</code>)</li>
<li><code>types</code> - Limit the search only to the specified types (domains) (may be a <code>String</code>, or <code>Collection</code> of <code>String</code>).</li>
<li><code>highlight</code> - A <code>Closure</code> containing the <a href="../../guide/single.html#5.3 Highlighting" class="guide">highlighting</a> settings.</li>
</ul></ul><p class="paragraph"/><h4>Returned value</h4><p class="paragraph"/>Return a <code>Map</code> containing:
<ul class="star">
<li>a <code>total</code> entry, representing the total number of hits found.</li>
<li>a <code>searchResults</code> entry, containing the hits.</li>
<li>a <code>scores</code> entry, containing the hits' scores.</li>
<li>a <code>highlight</code> entry if the <code>highlighter</code> parameter was set.</li>
</ul><p class="paragraph"/>
    </body>
</html>
